@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@page "/today"

<h3 class="text-center mb-3">Today</h3>

@if (TsksState.Value.IsLoading || 
     InitiativesState.Value.IsLoading ||
     ProjectsState.Value.IsLoading ||
     CompaniesState.Value.IsLoading) {
<div class="d-flex flex-row justify-content-center">
    <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>
} else if (TsksState.Value.HasCurrentErrors ||
           InitiativesState.Value.HasCurrentErrors ||
           ProjectsState.Value.HasCurrentErrors ||
           CompaniesState.Value.HasCurrentErrors) {
<span>Whoops! Looks like an issue occurred loading Tsks</span>
} else if (TskModels.Any()) {

<table class="table table-hover">
    <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Name</th>
            <th scope="col">Initiative Name</th>
            <th scope="col">Project Name</th>
            <th scope="col">Company Name</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var tskModel in TskModels) {
        <tr>
            <td>@tskModel.Id</td>
            <td>@tskModel.Name</td>
            <td>@tskModel.InitiativeName</td>
            <td>@tskModel.ProjectName</td>
            <td>@tskModel.CompanyName</td>
        </tr>
            }
    </tbody>
</table>
}
